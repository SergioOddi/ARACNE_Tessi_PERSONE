
```markdown
# GitHub Integration Configuration
## Technical Specifications for ARACNE System

### 1. REPOSITORY STRUCTURE
```

https://github.com/SergioOddi/TESSI_PERSONAGGI
TESSI_PERSONAGGI
├── Schede_personaggi/
   ├── Teseo.md
   ├── Egeo.md
   └── ...
├── sistema
   ├── CONTEXTO.md
   ├── EVOLUTIO.md
   ├── Memoria.md
   ├── Nexus.md
   ├── PSYCHE.md
   ├── Persona.md
   ├── Tessitore Capo.md
   └── VOX.md
└── .github/
└── workflows/

```

### 2. BRANCH STRATEGY
```yaml
branch_structure:
  protected:
    - main
    - master
  working:
    name: aracne-working
    purpose: Persistent working branch for system
  session:
    pattern: aracne-session-[YYYYMMDD]-[HHMM]
    lifecycle: auto-delete after 7 days
    purpose: Individual session changes
````

### 3. COMMIT MESSAGE TEMPLATES

```
# Standard Addition
[ARACNE-ADD] Added [content_type] to [file]

Example:
[ARACNE-ADD] Added paragraph after dojo scene to Capitolo_03.md

# Content Replacement  
[ARACNE-UPDATE] Updated [section] in [file]

Example:
[ARACNE-UPDATE] Updated character description in cory.md

# Timeline/Plot Changes
[ARACNE-TIMELINE] Modified [event/date] in timeline_eventi.md

# Multiple File Updates
[ARACNE-BATCH] Updated multiple files for [reason]
- file1: [change]
- file2: [change]
```

### 4. VALIDATION RULES

```json
{
  "file_validation": {
    "max_size_mb": 1,
    "encoding": "UTF-8",
    "forbidden_content": [
      "<<<<<<< HEAD",
      "=======", 
      ">>>>>>> ",
      "CONFLICT"
    ],
    "required_structure": {
      "capitoli": "# Capitolo [N]",
      "personaggi": "# [Nome Personaggio]",
      "timeline": "## Timeline Eventi"
    }
  }
}
```

### 5. ERROR RECOVERY PROCEDURES

#### Network Failure Recovery

```bash
# If GitHub API fails, generate this recovery script:
cat > manual_update.sh << 'EOF'
#!/bin/bash
# Manual update script generated by ARACNE
# Session: [session_id]
# Time: [timestamp]

git checkout aracne-working
git pull origin main

# Apply changes:
cat >> [file_path] << 'CONTENT'
[staged_content]
CONTENT

git add [file_path]
git commit -m "[commit_message]"
git push origin aracne-working
EOF
```

#### Merge Conflict Resolution

```
WHEN CONFLICT DETECTED:
1. Save both versions locally
2. Show user:
   
   === REPOSITORY VERSION ===
   [current content in repo]
   
   === YOUR CHANGES ===
   [attempted changes]
   
   === SUGGESTED MERGE ===
   [proposed combination]
   
3. Options:
   A) Keep repository version
   B) Force your changes
   C) Use suggested merge
   D) Manual edit
```

### 6. SESSION LOGGING FORMAT

```json
{
  "session": {
    "id": "aracne-20250121-1430",
    "start": "2025-01-21T14:30:00Z",
    "user": "anonymous",
    "operations": []
  },
  "operation_template": {
    "timestamp": "ISO-8601",
    "agent": "ARACNE|CHRONOS|etc",
    "action": "read|write|validate",
    "target": "file_path",
    "status": "success|failure|pending",
    "confirmation": "none|requested|received|denied",
    "error": null
  }
}
```

### 7. SAFETY PROTOCOLS

#### Prohibited Actions

```
NEVER WITHOUT EXPLICIT PERMISSION:
- DELETE any file
- RENAME files or directories  
- MODIFY sistema/ directory files
- ACCESS .git/ directory
- CHANGE repository settings
- SWITCH branches to non-aracne branches
```

#### Pre-Write Checklist

```
□ File exists and is readable
□ No credentials or tokens in content
□ File size < 1MB
□ Valid UTF-8 encoding
□ No merge conflict markers
□ Markdown structure valid
□ User confirmation received
□ Backup saved in session
```

### 8. API INTERACTION LIMITS

```yaml
rate_limits:
  read_operations:
    per_minute: 30
    per_hour: 500
  write_operations:
    per_minute: 5
    per_hour: 50
    requires_confirmation: true
  
retry_policy:
  max_attempts: 3
  backoff_multiplier: 2
  initial_delay_seconds: 1
```

### 9. QUICK REFERENCE COMMANDS

For CHRONOS:

```
/chronos git-read [file]
/chronos git-status
/chronos git-update [file] [type] [content]
```

For ARACNE:

```
/aracne coordinate-update [file] [changes]
/aracne confirm-update [preview_id]
/aracne rollback-update [session_id]
```

### 10. TESTING CHECKLIST

Before deploying:

- [ ] Test read operations on all file types
- [ ] Test write with user confirmation
- [ ] Test rejection of write operation
- [ ] Test network failure recovery
- [ ] Test validation failures
- [ ] Test multi-file updates
- [ ] Verify commit messages format
- [ ] Check branch protection works

```

Questo file `github_integration_config.md` serve come:
1. **Documentazione tecnica** per l'integrazione GitHub
2. **Riferimento** per gli agenti quando devono eseguire operazioni Git
3. **Specifica di sicurezza** per prevenire operazioni pericolose
4. **Guida di recovery** per gestire errori

I file CHRONOS e ARACNE CORE mantengono solo i comandi essenziali e le regole di alto livello, mentre questo file contiene tutti i dettagli tecnici di implementazione.
```